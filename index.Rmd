---
title: "index"
author: "Santiago Maldonado Vizcarra_Andrea Salas_Ana Goñi"
date: "2022-10-29"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# PROCESO DE CREACIÓN DE LA BASE DE DATOS UNIFICADA

## MERGES:

```{r}
MERGEFINAL =merge(VASA, MERGEVARS2, by = "ISO")
str(MERGEFINAL)
```

```{r}
UNIFICADA =merge(MERGEFINAL, MERGEFS2, by = "ISO")
str(UNIFICADA)
```

## ELIMINACIÓN DE COLUMNAS REPETIDAS

```{r}
UNIFICADA = select(UNIFICADA, -"COUNTRY.x.x.x")
UNIFICADA = select(UNIFICADA, -"COUNTRY.x.x.y")
UNIFICADA = select(UNIFICADA, -"PERCOR_2020.x")
UNIFICADA = select(UNIFICADA, -"PERCOR_2019.x")
UNIFICADA = select(UNIFICADA, -"PERCOR_2020.y")
UNIFICADA = select(UNIFICADA, -"PERCOR_2019.y")
```

## VISIBILIZACIÓN DE LA BASE DE DATOS

```{r}
library(rio)
export(UNIFICADA, "dataunificada.csv")
```

# REGRESIONES - VARIABLE DEPENDIENTE "PERCEPCIÓN DE CORRUPCIÓN"

# REGRESIÓN CON VARIABLES INDEPENDIENTES "INDEPENDENCIA DE JUSTICIA", "GOBIERNO ELECTO" Y "AUSENCIA DE CORRUPCIÓN"

## AÑO 2019

```{r}
REGREVA19 = glm(VASA$PERCOR_2019 ~ VASA$`2019INDEP` + VASA$`2019ELECT` + VASA$`2019AUSCORR`,family = poisson(link = "log"))
summary(REGREVA19)
```

## AÑO 2020

```{r}
REGREVA20 = glm(VASA$PERCOR_2020 ~ VASA$`2020INDEP` + VASA$`2020ELECT` + VASA$`2020AUSCORR`,family = poisson(link = "log"))
summary(REGREVA20)
```

# REGRESIÓN CON VARIABLES INDEPENDIENTES "DESEMPLEO", "SANEAMIENTO" E "INFLACIÓN"

## AÑO 2019

```{r}
REGREVS19 = glm(MERGEFS2$PERCOR_2019 ~ MERGEFS2$DES2019 + MERGEFS2$SANITATION_2019 + MERGEFS2$INFLACION_2019,family = poisson(link = "log"))
summary(REGREVS19)
```

## AÑO 2020

```{r}
REGREVS20 = glm(MERGEFS2$PERCOR_2020 ~ MERGEFS2$DES2020 + MERGEFS2$SANITATION_2020 + MERGEFS2$INFLACION_2020,family = poisson(link = "log"))
summary(REGREVS20)
```

#REGRESIÓN CON VARIABLES INDEPENDIENTES "PERCEPCIÓN DE LA DEMOCRACIA", "IDH" Y "LEGITIMIDAD ESTATAL"

##AÑO 2019

```{r}
REGREVANA19 = glm(MERGEVARS2$PERCOR_2019 ~ MERGEVARS2$`2019PAR` + MERGEVARS2$`2019IDH` + MERGEVARS2$`2019LEG`,family = poisson(link = "log"))
summary(REGREVANA19)
```

##AÑO 2020

```{r}
REGREVANA20 = glm(MERGEVARS2$PERCOR_2020 ~ MERGEVARS2$`2020PAR` + MERGEVARS2$`2020IDH` + MERGEVARS2$`2020LEG`,family = poisson(link = "log"))
summary(REGREVANA20)


